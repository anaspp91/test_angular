<h1>Register</h1>
<!-- <p>
    <label>Emirates ID</label>
    <select formControlName="userType">
        <option *ngFor="let usertype of userTypes" [(ngModel)]="usertype" value="{{usertype.id}}">{{usertype.nameEn}}</option>
      </select>
       
</p> -->
    <form [formGroup]="formRegister" (ngSubmit)="onSubmit()" *ngIf="!IsIndividual">
        <div formGroupName="userProfile">

            <!-- <div class="form-group">
                <label>User Type</label>
                <select formControlName="userType">
                    <option *ngFor="let usertype of userTypes" value="{{usertype.id}}">{{usertype.nameEn}}</option>
                  </select>
                <div *ngIf="submitted && f['userType'].errors" class="invalid-feedback">
                  <div *ngIf="f['userType'].errors['required']" style="color: red;">User Type is required</div>
                </div>
            </div> -->

            <div class="form-group">
                <label>User Type</label>
             <select formControlName="userType">
                <option *ngFor="let usertype of userTypes" value="{{usertype.id}}">{{usertype.nameEn}}</option>
              </select>
            </div>
            
              <div formGroupName="person">
               <p>
                    <label>Emirates ID</label>
                    <input type="number" formControlName="emiratesId">                
                </p>

                <!-- <div class="form-group">
                    <label>Emirates ID</label>
                    <input type="number" formControlName="emiratesId" class="form-control"
                      [ngClass]="{ 'is-invalid': submitted && f['emiratesId'].errors }"
                      (change)="onChangeEvent($event)"/>
                    <div *ngIf="submitted && f['emiratesId'].errors" class="invalid-feedback">
                      <div *ngIf="f['emiratesId'].errors['required']" style="color: red;">Emirates ID is required</div>
                    </div>
                </div> -->

                <h6 *ngIf="IsEmiratesIdExist" style="color: red;">Emirates ID/Passport Already Registered</h6>                
            </div>
        </div>  
            
        <div class="form-group">
            <label>First Name</label>
            <input type="text" formControlName="firstName" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['firstName'].errors }"/>
            <div *ngIf="submitted && f['firstName'].errors" class="invalid-feedback">
              <div *ngIf="f['firstName'].errors['required']" style="color: red;">First Name is required</div>
            </div>
        </div>

        <div class="form-group">
            <label>Last Name</label>
            <input type="text" formControlName="lastName" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['lastName'].errors }"/>
            <div *ngIf="submitted && f['lastName'].errors" class="invalid-feedback">
              <div *ngIf="f['lastName'].errors['required']" style="color: red;">Last Name is required</div>
            </div>
        </div>

        <div class="form-group">
            <label>Email</label>
            <input type="email" formControlName="email" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['email'].errors }"/>
            <div *ngIf="submitted && f['email'].errors" class="invalid-feedback">
              <div *ngIf="f['email'].errors['required']" style="color: red;">Email is required</div>
            </div>
        </div>

        <div class="form-group">
            <label>Phone Number</label>
            <input type="number" formControlName="phoneNumber" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['phoneNumber'].errors }"/>
            <div *ngIf="submitted && f['phoneNumber'].errors" class="invalid-feedback">
              <div *ngIf="f['phoneNumber'].errors['required']" style="color: red;">Phone Number is required</div>
            </div>
        </div>

        <div class="form-group">
            <label>Password</label>
            <input type="password" formControlName="password" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['password'].errors }"/>
            <div *ngIf="submitted && f['password'].errors" class="invalid-feedback">
              <div *ngIf="f['password'].errors['required']" style="color: red;">Password is required</div>
              <div *ngIf="f['password'].errors['minlength']" style="color: red;">
                Password must be at least 6 characters
              </div>
            </div>
        </div>

        <div class="form-group">
            <label>Confirm Password</label>
            <input type="password" formControlName="confirmPassword" class="form-control"
              [ngClass]="{ 'is-invalid': submitted && f['confirmPassword'].errors }"/>
            <div *ngIf="submitted && f['confirmPassword'].errors" class="invalid-feedback">
              <div *ngIf="f['confirmPassword'].errors['required']" style="color: red;">Confirm Password is required</div>
              <div *ngIf="f['confirmPassword'].errors['minlength']" style="color: red;">
                Password must be at least 6 characters
              </div>
              <div *ngIf="f['confirmPassword'].errors['matching']" style="color: red;">
                Confirm Password does not match
              </div>
            </div>
        </div>

        <div class="form-group form-check">
            <input
              type="checkbox"
              formControlName="acceptTerms"
              class="form-check-input"
              [ngClass]="{ 'is-invalid': submitted && f['acceptTerms'].errors }"
            />
            <label for="acceptTerms" class="form-check-label"
              >I have read and agree to the Terms</label
            >
            <div *ngIf="submitted && f['acceptTerms'].errors" class="invalid-feedback">
              Accept Terms is required
            </div>
        </div>
      
      
        <div class="clearfix">
            <div class="checkbox c-checkbox mt0">
                <label>
                    <input type="checkbox" />
                    <span class="fa fa-check"></span>{{'register.agree'}} <a href="" data-translate="register.terms"></a>
                </label>
            </div>
        </div> 
        <div>
            <button (click)="saveRegsiter(formRegister.value)">Register</button>
        </div>
    </form>

    <!-- Commercial UserType-->

    <form [formGroup]="frmUserEstablishment" *ngIf="IsIndividual">
        <div formGroupName="establishment">
            <p>
                <label>Establishment NameEn:</label>
                <input type="text" formControlName="nameEn">                
            </p> 
            
            <p>
                <label>Establishment NameAR:</label>
                <input type="text" formControlName="nameAr">                
            </p> 
            
            <p>
                <label>LicenseNumber:</label>
                <input type="text" formControlName="LicenseNumber">                
            </p>    
            <div>
                <!---->
                <button
                    (click)="saveEstablishment(frmUserEstablishment.value)">
                    Register Establishment </button>

                <!--<button (click)="saveAdminUser(frmAdminUser.value,frmAdminUser.valid)" *ngIf="!this.adminUserId>0" class="btn btn-primary zylog-btn click-me1">Save</button>-->
            </div>  
        </div>

    </form>

